[gd_scene load_steps=10 format=2]

[ext_resource path="res://scenes/game/Level/Environment.tres" type="Environment" id=1]

[sub_resource type="PlaneMesh" id=1]
size = Vector2( 20, 20 )

[sub_resource type="Curve3D" id=2]
_data = {
"points": PoolVector3Array( -0.0476379, 0, 2.84334, 0.0476379, 0, -2.84334, -5, 0, 0, -2.80071, 0, -0.00110197, 2.80071, 0, 0.00110197, 0, 0, -5, 0.00135136, 0, -2.70547, -0.00135136, 0, 2.70547, 5, 0, 0, 2.91928, 0, 0.0390897, -2.91928, 0, -0.0390897, 0, 0, 5, -0.00901699, 0, 2.7265, 0.00901699, 0, -2.7265, -5, 0, 0 ),
"tilts": PoolRealArray( 0, 0, 0, 0, 0 )
}

[sub_resource type="GDScript" id=8]
script/source = "extends RigidBody

remote func override(t):
	transform = t

func _physics_process(delta):
	if !GameManager.running: return
	if is_network_master():
		rpc(\"override\", transform)
	else:
		sleeping = true
"

[sub_resource type="CylinderShape" id=6]
radius = 0.126076
height = 5.54345

[sub_resource type="CylinderMesh" id=7]

[sub_resource type="GDScript" id=3]
script/source = "extends Spatial

func _physics_process(delta):
	rotate_y(delta)
	pass
"

[sub_resource type="CylinderShape" id=4]

[sub_resource type="CylinderMesh" id=5]

[node name="Level" type="Spatial"]

[node name="MeshInstance" type="MeshInstance" parent="."]
mesh = SubResource( 1 )
material/0 = null

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource( 1 )

[node name="Sun" type="DirectionalLight" parent="."]
transform = Transform( 1, 0, 0, 0, 0.469179, 0.883103, 0, -0.883103, 0.469179, 0, 3.19974, 0 )
light_energy = 0.5
shadow_enabled = true

[node name="Spawns" type="Path" parent="."]
curve = SubResource( 2 )

[node name="RigidBody2" type="RigidBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.05089, 1.50382, 0 )
can_sleep = false
script = SubResource( 8 )

[node name="CollisionShape" type="CollisionShape" parent="RigidBody2"]
transform = Transform( -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0, 1, -0.0213318, 0.0598488, 0 )
shape = SubResource( 6 )

[node name="MeshInstance" type="MeshInstance" parent="RigidBody2"]
transform = Transform( -1.21037e-07, 2.76901, 0, -0.123139, -5.38259e-09, 0, 0, 0, 0.123139, -0.0213318, 0.0692735, 0 )
mesh = SubResource( 7 )
material/0 = null

[node name="Spatial" type="Spatial" parent="."]
script = SubResource( 3 )

[node name="HingeJoint" type="HingeJoint" parent="Spatial"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.3374, 0 )
nodes/node_a = NodePath("../../RigidBody2")
nodes/node_b = NodePath("../StaticBody")
collision/exclude_nodes = false
angular_limit/enable = true
angular_limit/lower = -10.0

[node name="StaticBody" type="StaticBody" parent="Spatial"]

[node name="CollisionShape" type="CollisionShape" parent="Spatial/StaticBody"]
shape = SubResource( 4 )

[node name="MeshInstance" type="MeshInstance" parent="Spatial/StaticBody"]
mesh = SubResource( 5 )
material/0 = null

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 0.971615, 0.236567, 0, -0.236567, 0.971615, 0, 3.78583, 8.68867 )
